(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{53:function(e,t,n){},63:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(28),s=n.n(r),o=n(2),i=n(3),l=n(4),u=n(11),j=n.n(u),b=(n(53),n(0));function d(){var e=Object(o.f)(),t=Object(c.useState)([]),n=Object(i.a)(t,2),a=n[0],r=n[1],s=localStorage.getItem("token"),u=function(){fetch("https://jwt-crud-mern.herokuapp.com/movies",{method:"GET",headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){return e.json()})).then((function(e){return r(e.movieList)}))};Object(c.useEffect)((function(){u()}),[]),console.log(a);return console.log(localStorage.getItem("token")),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"backbtn",children:Object(b.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.goBack()},children:[Object(b.jsx)("i",{className:"fas fa-arrow-left",style:{marginRight:"5px"}}),"Go Back"]})}),Object(b.jsxs)("div",{className:"movList",children:[a.map((function(t){return Object(b.jsxs)("div",{className:"movieContainer",children:[Object(b.jsx)("img",{src:t.img,alt:""}),Object(b.jsx)("h4",{children:t.movie_name}),Object(b.jsx)("p",{className:"desc",children:t.movie_desc}),Object(b.jsx)("p",{className:"duration",children:t.duration}),Object(b.jsxs)("div",{className:"butonDiv",children:[Object(b.jsx)("button",{type:"button",className:"btn btn-warning",children:Object(b.jsx)(l.b,{className:"editLink",to:s?{pathname:"/edit",movie:t}:"/login",children:"Edit"})}),Object(b.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return s?function(e){alert("Are you sure want to delete this movie ".concat(e.movie_name,"?")),j.a.delete("https://jwt-crud-mern.herokuapp.com/movies/".concat(e._id,"?token=").concat(s)).then((function(e){return console.log(e)})),u()}(t):e.push("/login")},children:"Delete"})]})]},t._id)})),Object(b.jsxs)("button",{type:"button",id:"add",className:"btn btn-primary",children:[Object(b.jsx)("i",{className:"fas fa-plus"}),Object(b.jsx)(l.b,{className:"editLink",to:s?"/create":"/login",children:"Add New Movie"})]})]})]})}n(63);function h(){var e=localStorage.getItem("token"),t=Object(o.f)();return Object(b.jsx)("div",{className:"navbar",children:Object(b.jsx)("ul",{className:"navlists",children:e?[Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{className:"listLink",to:e?"/":"/register",children:"Home"})},"1"),Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{className:"listLink",to:"/movies",children:"Movies"})},"2"),Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{className:"listLink",to:"/about",children:"About"})},"3"),Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{className:"listLink",to:"/register",children:Object(b.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return localStorage.removeItem("token"),void t.push("/register")},children:"Logout"})})},"4")]:[Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{className:"listLink",to:"/register",children:"Sign Up"})},"5"),Object(b.jsx)("li",{children:Object(b.jsx)(l.b,{className:"listLink",to:"/login",children:"Sign in"})},"6")]})})}function p(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(h,{}),Object(b.jsx)(d,{})]})}var m=n(10),O=n.n(m),x=n(12);function g(){var e=Object(o.f)(),t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),u=Object(i.a)(s,2),d=u[0],h=u[1],p=Object(c.useState)(""),m=Object(i.a)(p,2),g=m[0],f=m[1],v=Object(c.useState)(""),y=Object(i.a)(v,2),k=y[0],N=y[1],w={first_name:a,last_name:d,email:g,password:k};console.log(w);var C=function(){var t=Object(x.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.post("http://localhost:4001/register",w).then((function(e){return console.log(e)}));case 2:e.push("/login");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{children:"Welcome...!"}),Object(b.jsxs)("form",{className:"createForm",children:[Object(b.jsx)("input",{type:"text",onChange:function(e){return r(e.target.value)},placeholder:"first Name"}),Object(b.jsx)("input",{type:"text",onChange:function(e){return h(e.target.value)},placeholder:"last Name"}),Object(b.jsx)("input",{type:"email",onChange:function(e){return f(e.target.value)},placeholder:"email"}),Object(b.jsx)("input",{type:"password",onChange:function(e){return N(e.target.value)},placeholder:"password"}),Object(b.jsx)("button",{type:"button",class:"btn btn-primary",id:"create",onClick:function(){return C()},style:{margin:"20px 500px"},children:"Register"}),Object(b.jsx)(l.b,{style:{display:"block",textAlign:"center",textDecoration:"none"},to:"/login",children:"Already Have an account? "})]})]})}function f(){var e=Object(o.f)(),t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),u=Object(i.a)(s,2),d=u[0],h=u[1],p={email:a,password:d},m=function(){var t=Object(x.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.post("http://localhost:4001/login",p).then((function(e){return localStorage.setItem("token",e.data.token)}));case 2:e.push("/");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{children:"Welcome Back...!"}),Object(b.jsxs)("form",{className:"createForm",children:[Object(b.jsx)("input",{type:"email",onChange:function(e){return r(e.target.value)},placeholder:"email"}),Object(b.jsx)("input",{type:"password",onChange:function(e){return h(e.target.value)},placeholder:"password"}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary text-center",id:"create",onClick:function(){return m()},style:{margin:"20px 500px"},children:"Login"}),Object(b.jsx)(l.b,{style:{display:"block",textAlign:"center",textDecoration:"none"},to:"/register",children:"Don't Have an account? "})]})]})}n(65);function v(){var e=Object(o.f)(),t=Object(o.g)().movie,n=Object(c.useState)(null),a=Object(i.a)(n,2),r=a[0],s=a[1],l=Object(c.useState)(null),u=Object(i.a)(l,2),d=u[0],h=u[1],p=Object(c.useState)(null),m=Object(i.a)(p,2),g=m[0],f=m[1],v=Object(c.useState)(null),y=Object(i.a)(v,2),k=y[0],N=y[1];console.log(t._id);var w=localStorage.getItem("token"),C={id:t._id,movie_name:null===r?t.movie_name:r,movie_desc:null===d?t.movie_desc:d,img:null===g?t.img:g,duration:null===k?t.duration:k,token:w},S=function(){var t=Object(x.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.patch("https://jwt-crud-mern.herokuapp.com/movies/update/",C).then((function(e){return console.log(e)})).catch((function(e){return console.log(e.msg)}));case 2:e.push("/movies");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return console.log(),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{children:Object(b.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.push("/")},children:[Object(b.jsx)("i",{className:"fas fa-arrow-left",style:{marginRight:"5px"}}),"Go Home"]})}),Object(b.jsx)("h2",{children:"Edit Your Data"}),Object(b.jsxs)("form",{className:"editForm",children:[Object(b.jsx)("input",{type:"text",onChange:function(e){return s(e.target.value)},placeholder:t.movie_name}),Object(b.jsx)("input",{type:"text",onChange:function(e){return h(e.target.value)},placeholder:t.movie_desc}),Object(b.jsx)("input",{type:"text",onChange:function(e){return f(e.target.value)},placeholder:t.img}),Object(b.jsx)("input",{type:"text",onChange:function(e){return N(e.target.value)},placeholder:t.duration}),Object(b.jsx)("button",{type:"button",id:"update",className:"btn btn-primary",onClick:function(){return S()},children:"Update"})]})]})}n(66);function y(){var e=Object(o.f)(),t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),l=Object(i.a)(s,2),u=l[0],d=l[1],h=Object(c.useState)(""),p=Object(i.a)(h,2),m=p[0],g=p[1],f=Object(c.useState)(""),v=Object(i.a)(f,2),y=v[0],k=v[1],N={movie_name:a,movie_desc:u,img:m,duration:y,token:localStorage.getItem("token")};console.log(N);var w=function(){var t=Object(x.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.post("https://jwt-crud-mern.herokuapp.com/movies/",N).then((function(e){return console.log(e)}));case 2:e.push("/movies");case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{children:Object(b.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:function(){return e.push("/")},children:[Object(b.jsx)("i",{className:"fas fa-arrow-left",style:{marginRight:"5px"}}),"Go Home"]})}),Object(b.jsx)("h2",{children:"Add new Movie"}),Object(b.jsxs)("form",{className:"createForm",children:[Object(b.jsx)("input",{type:"text",onChange:function(e){return r(e.target.value)},placeholder:"title"}),Object(b.jsx)("input",{type:"text",onChange:function(e){return d(e.target.value)},placeholder:"description"}),Object(b.jsx)("input",{type:"text",onChange:function(e){return g(e.target.value)},placeholder:"imgUrl"}),Object(b.jsx)("input",{type:"text",onChange:function(e){return k(e.target.value)},placeholder:"duration"}),Object(b.jsx)("button",{type:"button",className:"btn btn-primary",id:"create",onClick:function(){return w()},style:{margin:"20px auto"},children:"Create"})]})]})}var k=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{exact:!0,path:"/",children:Object(b.jsx)(p,{})}),Object(b.jsx)(o.a,{path:"/movies",children:Object(b.jsx)(d,{})}),Object(b.jsx)(o.a,{path:"/edit",children:Object(b.jsx)(v,{})}),Object(b.jsx)(o.a,{path:"/create",children:Object(b.jsx)(y,{})}),Object(b.jsx)(o.a,{exact:!0,path:"/register",children:Object(b.jsx)(g,{})}),Object(b.jsx)(o.a,{exact:!0,path:"/login",children:Object(b.jsx)(f,{})}),")}"]})})};s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(l.a,{children:Object(b.jsx)(k,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.4a6d5f7e.chunk.js.map